webpackJsonp([7],{"98aw":function(t,e,n){"use strict";var u=n("Dd8w"),r=n.n(u),s=n("Xxa5"),a=n.n(s),o=n("exGp"),i=n.n(o),c=n("NYxO"),v=n("r4OS"),d=function(){var t=i()(a.a.mark(function t(e,n){var u;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u=0;case 1:if(!(u<e.length)){t.next=7;break}return t.next=4,n(e[u],u,e);case 4:u++,t.next=1;break;case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}();e.a={data:function(){return{expense:!0,strAmount:"",aTurnover:{amount:0}}},computed:r()({},Object(c.b)(["turnover","budgetId","budgetName","budgetDate","budgetList","toBeBudgeted","user"])),watch:{strAmount:function(){this.aTurnover.amount=parseInt(this.strAmount).toFixed(2),this.aTurnover.amount/=100,this.expense&&this.aTurnover.amount>0&&(this.aTurnover.amount*=-1),!this.expense&&this.aTurnover.amount<0&&(this.aTurnover.amount*=-1),this.aTurnover.amount||(this.aTurnover.amount=0)}},methods:{setExpense:function(){this.aTurnover.amount>0&&(this.aTurnover.amount*=-1),this.expense=!0},setIncome:function(){this.aTurnover.amount<0&&(this.aTurnover.amount*=-1),this.expense=!1},logout:function(){var t=this;return i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("logout");case 3:t.$router.push({name:"login"}),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error(e.t0);case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()},switchBudget:function(){var t=this;return i()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("/api/budgets?userid="+t.user.id);case 2:if(n=e.sent,2!==n.data.length){e.next=15;break}return e.next=6,d(n.data,function(){var e=i()(a.a.mark(function e(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.put("/api/budgets/"+n.id,{active:!n.active});case 2:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 6:return e.next=8,t.$store.dispatch("getBudgetId",t.$store.getters.user);case 8:t.$store.dispatch("getBudgetName",t.$store.getters.user),t.$store.dispatch("getAccounts"),t.$store.dispatch("getTurnovers"),t.$store.dispatch("getToBeBudgeted",t.budgetDate),t.$store.dispatch("getBudgetList",t.budgetDate),e.next=16;break;case 15:t.$toasted.show("No other budget found.");case 16:case"end":return e.stop()}},e,t)}))()},addNumber:function(t){var e=t.toString();this.strAmount+=e},removeNumber:function(){this.strAmount=this.strAmount.slice(0,-1)},next:function(){this.$store.dispatch("setTurnover",this.aTurnover),this.$router.push({name:"turnoverAdd"})},cancel:function(){this.aTurnover={},this.$store.dispatch("setTurnover",this.aTurnover),this.$router.push({name:"turnover"})}},created:function(){this.aTurnover=this.turnover,this.strAmount=this.turnover.amount.toString(),this.strAmount=this.strAmount.replace(/[.-]/g,""),this.aTurnover.amount>0&&(this.expense=!1)}}},ETtY:function(t,e,n){"use strict";var u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("div",{staticClass:"pure-g header header2"},[n("div",{staticClass:"pure-u-1-3 header-cancel",on:{click:function(e){t.cancel()}}},[n("button",{staticClass:"button-cancel"},[t._v("Cancel")])]),t._v(" "),n("div",{staticClass:"pure-u-1-3 header-text"},[t._v("\n      Add Transaction"),n("br"),t._v("to '"+t._s(t.budgetName)+"'\n    ")]),t._v(" "),n("div",{staticClass:"pure-u-1-3 header-logout"},[t.aTurnover.id?t._e():n("button",{staticClass:"button-logout",on:{click:function(e){t.switchBudget()}}},[t._v("Switch")])])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"pure-g amount-display"},[n("div",{staticClass:"pure-u-1 amount-text"},[n("span",{class:t.expense?"negative":"positive"},[t._v(t._s(t._f("currency")(t.aTurnover.amount)))])])]),t._v(" "),n("div",{staticClass:"pure-g expense-income"},[n("button",{staticClass:"pure-u-1-2 button-expense",on:{click:function(e){t.setExpense()}}},[t._v("\n        Expense\n      ")]),t._v(" "),n("button",{staticClass:"pure-u-1-2 button-income",on:{click:function(e){t.setIncome()}}},[t._v("\n        Income\n      ")])]),t._v(" "),n("div",{staticClass:"pure-g number-pad"},[n("div",{staticClass:"pure-u-3-4",staticStyle:{height:"100%"}},[n("div",{staticClass:"pure-g nbtn"},[n("button",{staticClass:"pure-u-1-3 amount-number nbt",on:{click:function(e){t.addNumber(1)}}},[t._v("1")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number nbt",on:{click:function(e){t.addNumber(2)}}},[t._v("2")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number nbr nbt",on:{click:function(e){t.addNumber(3)}}},[t._v("3")])]),t._v(" "),n("div",{staticClass:"pure-g nbtn"},[n("button",{staticClass:"pure-u-1-3 amount-number",on:{click:function(e){t.addNumber(4)}}},[t._v("4")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number",on:{click:function(e){t.addNumber(5)}}},[t._v("5")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number nbr",on:{click:function(e){t.addNumber(6)}}},[t._v("6")])]),t._v(" "),n("div",{staticClass:"pure-g nbtn"},[n("button",{staticClass:"pure-u-1-3 amount-number",on:{click:function(e){t.addNumber(7)}}},[t._v("7")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number",on:{click:function(e){t.addNumber(8)}}},[t._v("8")]),t._v(" "),n("button",{staticClass:"pure-u-1-3 amount-number nbr",on:{click:function(e){t.addNumber(9)}}},[t._v("9")])]),t._v(" "),n("div",{staticClass:"pure-g nbtn"},[n("button",{staticClass:"pure-u-1 amount-number amount-number-zero nbr",on:{click:function(e){t.addNumber(0)}}},[t._v("0")])])]),t._v(" "),n("div",{staticClass:"pure-u-1-4 amount-actions"},[n("button",{staticClass:"pure-u-1 amount-remove",on:{click:function(e){t.removeNumber()}}},[n("i",{staticClass:"fa fa-caret-square-o-left"})]),t._v(" "),n("button",{staticClass:"pure-u-1 amount-next",on:{click:function(e){t.next()}}},[t._v("\n          Next\n        ")])])])])])},r=[],s={render:u,staticRenderFns:r};e.a=s},Sl42:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n("98aw"),r=n("ETtY"),s=n("VU/8"),a=s(u.a,r.a,!1,null,null,null);e.default=a.exports}});